import { formatPriceToKRW } from "@/utils/formatPrice";
import { formatDate } from "@/utils/formatDate";
import Image from "next/image";
import ImageProduct from "../items/ImageProduct";

interface DetailProductProps {
  name: string;
  description: string;
  images: string[];
  price: number;
  favoriteCount: number;
  tags: string[];
  ownerNickname: string;
  updatedAt: string;
  isFavorite?: boolean;
}

function DetailProduct({
  name,
  description,
  images,
  price,
  favoriteCount,
  tags,
  ownerNickname,
  updatedAt,
  isFavorite,
}: DetailProductProps) {
  return (
    <div className='product-detail-contents'>
      <ImageProduct images={images} name={name} />
      <div className='desc-wrap'>
        <h2 className='detail-name'>{name}</h2>
        <div className='detail-price'>{formatPriceToKRW(price)}</div>
        <div className='detail-description-wrap'>
          <div className='detail-description-title'>상품 소개</div>
          <p className='detail-description'>{description}</p>
        </div>
        <div className='detail-tag-wrap'>
          <div className='detail-tag-title'>상품 태그</div>
          <div className='detail-tags'>
            {tags.map((tag) => (
              <span key={tag} className='detail-tag'>
                #{tag}
              </span>
            ))}
          </div>
        </div>
        <div className='detail-footer'>
          <div className='owner-wrap'>
            <div className='owner-icon'>
              <svg
                viewBox='0 0 40 40'
                fill='none'
                xmlns='http://www.w3.org/2000/svg'
              >
                <g clipPath='url(#clip0_42798_1063)'>
                  <circle cx='20' cy='20' r='20' fill='#D1D5DB' />
                  <path
                    d='M19.374 8.72955C19.8844 10.4933 18.5349 12.4367 16.9881 12.8874C15.4413 13.338 13.328 12.4034 12.8176 10.6396C12.3072 8.87592 13.3786 6.43217 14.9255 5.98153C16.9881 5.38063 18.8637 6.96583 19.374 8.72955Z'
                    fill='white'
                  />
                  <path
                    d='M20.2247 8.72955C19.7143 10.4933 21.0638 12.4367 22.6106 12.8874C24.1575 13.338 26.2707 12.4034 26.7811 10.6396C27.2915 8.87592 26.2201 6.43217 24.6732 5.98153C22.6106 5.38063 20.7351 6.96583 20.2247 8.72955Z'
                    fill='white'
                  />
                  <path
                    d='M29.8016 21.6147C29.8016 26.1007 25.4028 27.7683 19.4026 27.7683C13.4025 27.7683 9.10324 26.1007 9.10324 21.6147C9.10324 16.3964 13.4025 11.7689 19.4026 11.7689C25.4028 11.7689 29.8016 16.0026 29.8016 21.6147Z'
                    fill='white'
                  />
                  <path
                    d='M17.4167 20.7285C17.4167 22.1978 16.4736 23.8096 15.1558 23.8096C13.8379 23.8096 11.709 22.6124 11.709 20.4177C11.709 18.3559 14.0088 17.6227 16.3853 17.9992C17.8419 18.2299 17.4167 19.2593 17.4167 20.7285Z'
                    fill='#D1D5DB'
                  />
                  <path
                    d='M16.3158 20.5796C16.3158 20.8 16.2495 20.9786 15.9181 20.9786C15.5867 20.9786 15.5204 20.8 15.5204 20.5796C15.5204 20.3592 15.653 20.1805 15.9181 20.1805C16.1832 20.1805 16.3158 20.3592 16.3158 20.5796Z'
                    fill='white'
                  />
                  <path
                    d='M21.4258 20.7284C21.4258 22.1976 22.3688 23.8094 23.6867 23.8094C25.0045 23.8094 27.1334 22.6123 27.1334 20.4175C27.1334 18.3558 24.8336 17.6226 22.4571 17.9991C21.0006 18.2298 21.4258 19.2592 21.4258 20.7284Z'
                    fill='#D1D5DB'
                  />
                  <path
                    d='M22.5283 20.5796C22.5283 20.8 22.5946 20.9786 22.926 20.9786C23.2574 20.9786 23.3237 20.8 23.3237 20.5796C23.3237 20.3592 23.1912 20.1805 22.926 20.1805C22.6609 20.1805 22.5283 20.3592 22.5283 20.5796Z'
                    fill='white'
                  />
                  <path
                    fillRule='evenodd'
                    clipRule='evenodd'
                    d='M19.7575 30.0001C27.7508 30.0001 33.6107 27.7473 33.6107 21.6867C33.6107 14.1048 27.7508 8.38513 19.7575 8.38513C11.7642 8.38513 6.03683 14.6369 6.03683 21.6867C6.03683 27.7473 11.7642 30.0001 19.7575 30.0001ZM19.4429 27.6725C25.3226 27.6725 29.633 26.0228 29.633 21.5845C29.633 16.0322 25.3226 11.8437 19.4429 11.8437C13.5632 11.8437 9.35031 16.4219 9.35031 21.5845C9.35031 26.0228 13.5632 27.6725 19.4429 27.6725Z'
                    fill='white'
                  />
                  <g mask='url(#mask0_42798_1063)'>
                    <ellipse
                      cx='19.5833'
                      cy='37.5'
                      rx='11.25'
                      ry='12.5'
                      fill='white'
                    />
                  </g>
                </g>
                <defs>
                  <clipPath id='clip0_42798_1063'>
                    <rect width='40' height='40' fill='white' />
                  </clipPath>
                </defs>
              </svg>
            </div>
            <div className='owner-desc'>
              <div className='owner-name'>{ownerNickname}</div>
              <div className='date-update'>{formatDate(updatedAt)}</div>
            </div>
          </div>
          <button className='btn-favorite'>
            <div>
              {isFavorite ? (
                <svg
                  viewBox='0 0 32 32'
                  fill='none'
                  xmlns='http://www.w3.org/2000/svg'
                >
                  <path
                    d='M6.05406 18.2232C6.03495 18.2063 6.01689 18.1904 5.99984 18.1753V18.0686L5.76552 17.8343C4.30711 16.3759 3.4665 14.4428 3.4665 12.4V12.1458C3.59299 8.18597 6.96682 4.93333 10.9332 4.93333C11.5709 4.93333 12.3743 5.15125 13.1539 5.57104C13.9043 5.9751 14.5753 6.53553 15.0226 7.17784C15.4574 8.15492 16.8557 8.14051 17.2621 7.13462C17.6412 6.45729 18.2982 5.87138 19.0562 5.44869C19.8352 5.01422 20.6349 4.8 21.1998 4.8C25.2833 4.8 28.5398 8.03647 28.6665 12.1454V12.4C28.6665 14.5893 27.8175 16.5041 26.3926 17.8103L26.1332 18.0481V18.1452C26.108 18.1662 26.0817 18.1883 26.0545 18.2113C25.8471 18.3862 25.5653 18.629 25.2291 18.9213C24.5559 19.5066 23.654 20.3 22.6709 21.1665C22.3559 21.4441 22.0326 21.7292 21.7056 22.0176C19.9914 23.5292 18.1782 25.1282 16.9496 26.1894C16.4478 26.6035 15.6852 26.6035 15.1834 26.1894C13.7183 24.924 11.3901 22.8951 9.40962 21.1643C8.41822 20.2979 7.51451 19.5066 6.85049 18.9238C6.51841 18.6323 6.24669 18.3933 6.05406 18.2232Z'
                    fill='#FF68CC'
                    stroke='#FF68CC'
                    strokeWidth='1.6'
                  />
                </svg>
              ) : (
                <svg
                  viewBox='0 0 32 32'
                  fill='none'
                  xmlns='http://www.w3.org/2000/svg'
                >
                  <path
                    d='M6.12025 18.1482C6.1133 18.1421 6.1065 18.1361 6.09984 18.1302V18.0272L5.83623 17.7636C4.39552 16.3229 3.5665 14.4149 3.5665 12.4V12.1474C3.69211 8.24257 7.02101 5.03333 10.9332 5.03333C11.5506 5.03333 12.3377 5.24515 13.1065 5.65909C13.8429 6.0556 14.4984 6.60339 14.9351 7.22713C15.4083 8.27379 16.9116 8.25737 17.3525 7.17788C17.7207 6.52332 18.3603 5.95126 19.1049 5.53603C19.873 5.10766 20.656 4.9 21.1998 4.9C25.2271 4.9 28.4406 8.09104 28.5665 12.1469V12.4C28.5665 14.563 27.7281 16.4504 26.325 17.7366L26.0332 18.0041V18.0985C26.0191 18.1104 26.0047 18.1225 25.99 18.1349C25.782 18.3102 25.4997 18.5534 25.1634 18.8459C24.49 19.4314 23.5879 20.225 22.6048 21.0915C22.2897 21.3692 21.9663 21.6543 21.6393 21.9427C19.9255 23.454 18.1132 25.0522 16.885 26.113C16.4204 26.4957 15.7125 26.4957 15.2479 26.1129C13.783 24.8477 11.4555 22.8195 9.47542 21.089C8.48406 20.2226 7.58041 19.4314 6.91646 18.8486C6.5844 18.5571 6.31276 18.3182 6.12025 18.1482Z'
                    stroke='#6B7280'
                    strokeWidth='1.8'
                  />
                </svg>
              )}
            </div>
            <span>{favoriteCount}</span>
          </button>
        </div>
      </div>
    </div>
  );
}

export default DetailProduct;
